<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Display a popup on hover</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
<link href="https://api.mapbox.com/mapbox-gl-js/v2.5.1/mapbox-gl.css" rel="stylesheet">
<script src="https://api.mapbox.com/mapbox-gl-js/v2.5.1/mapbox-gl.js"></script>
<style>
body { margin: 0; padding: 0; }
#map { position: absolute; top: 0; bottom: 0; width: 100%; }
</style>
</head>
<body>
<style>
    .mapboxgl-popup {
        max-width: 400px;
        font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
    }
    .map-overlay {
font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
position: absolute;
width: 25%;
top: 0;
left: 0;
padding: 10px;
}
 
.map-overlay .map-overlay-inner {
background-color: #fff;
box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
border-radius: 3px;
padding: 10px;
margin-bottom: 10px;
}
 
.map-overlay h2 {
line-height: 24px;
display: block;
margin: 0 0 10px;
}
 
.map-overlay .legend .bar {
height: 10px;
width: 100%;
background: linear-gradient(to right, #fca107, #7f3121);
}
 
.map-overlay input {
background-color: transparent;
display: inline-block;
width: 100%;
position: relative;
margin: 0;
cursor: ew-resize;
}
</style>
<div id="map"></div>
<div class="map-overlay top">
    <div class="map-overlay-inner">
    <h2>Plane Crashes</h2>
    <label id="month"></label>
    <input id="slider" type="range" min="1948" max="2007" step="1" value="0">
    </div>
    <div class="map-overlay-inner">
    </div>
    </div>
    </div>
<script>
	mapboxgl.accessToken = 'pk.eyJ1IjoiaGFiZXJrb3Juc2FtIiwiYSI6ImNrdXlpZmJ2dTczMTIyb2s2ZWV0anZzYm0ifQ.eFssB90u2FOHXf2H3NTLTg';
    const map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/streets-v11',
        center: [-77.04, 38.907],
        zoom: 11.15
    });

    map.on('load', () => {
        map.addSource('places', {
            'type': 'geojson',
            'data': {
   "type": "FeatureCollection",
   "features": [
      {
         "type": "Feature",
         "geometry": {
            "type": "Point",
            "coordinates": [
               -2.600278,
               49.435
            ]
         },
         "properties": {
            "Event Id": "20080206X00141",
            "Investigation Type": "Accident",
            "Accident Number": "CHI08WA075",
            "Event Date": "12/31/2007",
            "Location": "Guernsey, United Kingdom",
            "Country": "United Kingdom",
            "Latitude": "49.435000",
            "Longitude": "-2.600278",
            "Airport Code": null,
            "Airport Name": null,
            "Injury Severity": "Non-Fatal",
            "Aircraft Damage": "Minor",
            "Aircraft Category": null,
            "Registration Number": null,
            "Make": "Cessna",
            "Model": "T303",
            "Amateur Built": "No",
            "Number of Engines": null,
            "Engine Type": null,
            "FAR Description": null,
            "Schedule": null,
            "Purpose of Flight": "Unknown",
            "Air Carrier": null,
            "Total Fatal Injuries": null,
            "Total Serious Injuries": null,
            "Total Minor Injuries": null,
            "Total Uninjured": "1",
            "Weather Condition": null,
            "Broad Phase of Flight": null,
            "Report Status": "Foreign",
            "Publication Date": "02/06/2008",
            "": null
         }
      },
      {
         "type": "Feature",
         "geometry": {
            "type": "Point",
            "coordinates": [
               -117.868056,
               33.675556
            ]
         },
         "properties": {
            "Event Id": "20080125X00106",
            "Investigation Type": "Accident",
            "Accident Number": "SEA08CA056",
            "Event Date": "12/31/2007",
            "Location": "Santa Ana, CA",
            "Country": "United States",
            "Latitude": "33.675556",
            "Longitude": "-117.868056",
            "Airport Code": "SNA",
            "Airport Name": "John Wayne - Orange County",
            "Injury Severity": "Non-Fatal",
            "Aircraft Damage": "Substantial",
            "Aircraft Category": "Airplane",
            "Registration Number": "N2800D",
            "Make": "Piper",
            "Model": "PA-12",
            "Amateur Built": "No",
            "Number of Engines": "1",
            "Engine Type": "Reciprocating",
            "FAR Description": "Part 91: General Aviation",
            "Schedule": null,
            "Purpose of Flight": "Instructional",
            "Air Carrier": null,
            "Total Fatal Injuries": null,
            "Total Serious Injuries": null,
            "Total Minor Injuries": null,
            "Total Uninjured": "2",
            "Weather Condition": "VMC",
            "Broad Phase of Flight": "LANDING",
            "Report Status": "Factual <br />01/25/2008<br/>Final <br />02/28/2008",
            "Publication Date": "02/28/2008",
            "": null
         }
      },
      {
         "type": "Feature",
         "geometry": {
            "type": "Point",
            "coordinates": [
               -95.394444,
               45.866111
            ]
         },
         "properties": {
            "Event Id": "20080129X00122",
            "Investigation Type": "Accident",
            "Accident Number": "CHI08CA057",
            "Event Date": "12/30/2007",
            "Location": "Alexandria, MN",
            "Country": "United States",
            "Latitude": "45.866111",
            "Longitude": "-95.394444",
            "Airport Code": "AXN",
            "Airport Name": "Chandler Field Airport",
            "Injury Severity": "Non-Fatal",
            "Aircraft Damage": "Substantial",
            "Aircraft Category": "Airplane",
            "Registration Number": "N5093F",
            "Make": "Lerohl",
            "Model": "RV-8",
            "Amateur Built": "Yes",
            "Number of Engines": "1",
            "Engine Type": "Reciprocating",
            "FAR Description": "Part 91: General Aviation",
            "Schedule": null,
            "Purpose of Flight": "Personal",
            "Air Carrier": null,
            "Total Fatal Injuries": null,
            "Total Serious Injuries": null,
            "Total Minor Injuries": null,
            "Total Uninjured": "1",
            "Weather Condition": "VMC",
            "Broad Phase of Flight": "TAKEOFF",
            "Report Status": "Factual <br />01/29/2008<br/>Final <br />02/28/2008",
            "Publication Date": "02/28/2008",
            "": null
         }
      },
      {
         "type": "Feature",
         "geometry": {
            "type": "Point",
            "coordinates": [
               -120.522778,
               35.542222
            ]
         },
         "properties": {
            "Event Id": "20080114X00045",
            "Investigation Type": "Accident",
            "Accident Number": "LAX08FA043",
            "Event Date": "12/30/2007",
            "Location": "Paso Robles, CA",
            "Country": "United States",
            "Latitude": "35.542222",
            "Longitude": "-120.522778",
            "Airport Code": "PRB",
            "Airport Name": "Paso Robles Airport",
            "Injury Severity": "Fatal(1)",
            "Aircraft Damage": "Substantial",
            "Aircraft Category": "Airplane",
            "Registration Number": "N254SR",
            "Make": "Cirrus Design Corp.",
            "Model": "SR22",
            "Amateur Built": "No",
            "Number of Engines": "1",
            "Engine Type": "Reciprocating",
            "FAR Description": "Part 91: General Aviation",
            "Schedule": null,
            "Purpose of Flight": "Personal",
            "Air Carrier": null,
            "Total Fatal Injuries": "1",
            "Total Serious Injuries": null,
            "Total Minor Injuries": null,
            "Total Uninjured": null,
            "Weather Condition": "VMC",
            "Broad Phase of Flight": "MANEUVERING",
            "Report Status": "Factual <br />09/05/2008<br/>Final <br />06/20/2014",
            "Publication Date": "06/20/2014",
            "": null
         }
      },
      {
         "type": "Feature",
         "geometry": {
            "type": "Point",
            "coordinates": [
               -87.92,
               34.688611
            ]
         },
         "properties": {
            "Event Id": "20080109X00032",
            "Investigation Type": "Accident",
            "Accident Number": "NYC08FA071",
            "Event Date": "12/30/2007",
            "Location": "Cherokee, AL",
            "Country": "United States",
            "Latitude": "34.688611",
            "Longitude": "-87.920000",
            "Airport Code": null,
            "Airport Name": null,
            "Injury Severity": "Fatal(3)",
            "Aircraft Damage": "Substantial",
            "Aircraft Category": "Helicopter",
            "Registration Number": "N109AE",
            "Make": "BELL",
            "Model": "206L-3",
            "Amateur Built": "No",
            "Number of Engines": "1",
            "Engine Type": "Turbo Shaft",
            "FAR Description": "Part 91: General Aviation",
            "Schedule": null,
            "Purpose of Flight": "Other Work Use",
            "Air Carrier": null,
            "Total Fatal Injuries": "3",
            "Total Serious Injuries": "0",
            "Total Minor Injuries": "0",
            "Total Uninjured": "0",
            "Weather Condition": "VMC",
            "Broad Phase of Flight": "MANEUVERING",
            "Report Status": "Factual <br />01/15/2009<br/>Final <br />01/15/2009",
            "Publication Date": "01/15/2009",
            "": null
         }
      },
      {
         "type": "Feature",
         "geometry": {
            "type": "Point",
            "coordinates": [
               -97.485555,
               32.557222
            ]
         },
         "properties": {
            "Event Id": "20080103X00010",
            "Investigation Type": "Accident",
            "Accident Number": "DFW08LA052",
            "Event Date": "12/29/2007",
            "Location": "Crowley, TX",
            "Country": "United States",
            "Latitude": "32.557222",
            "Longitude": "-97.485555",
            "Airport Code": null,
            "Airport Name": null,
            "Injury Severity": "Fatal(2)",
            "Aircraft Damage": "Destroyed",
            "Aircraft Category": "Gyrocraft",
            "Registration Number": "N136DG",
            "Make": "ALTHOUSE",
            "Model": "RAF 2000 GTX",
            "Amateur Built": "Yes",
            "Number of Engines": "1",
            "Engine Type": "Reciprocating",
            "FAR Description": "Part 91: General Aviation",
            "Schedule": null,
            "Purpose of Flight": "Personal",
            "Air Carrier": null,
            "Total Fatal Injuries": "2",
            "Total Serious Injuries": "0",
            "Total Minor Injuries": "0",
            "Total Uninjured": "0",
            "Weather Condition": "VMC",
            "Broad Phase of Flight": "MANEUVERING",
            "Report Status": "Factual <br />11/11/2008<br/>Final <br />12/03/2008",
            "Publication Date": "12/03/2008",
            "": null
         }
      },
      {
         "type": "Feature",
         "geometry": {
            "type": "Point",
            "coordinates": [
               -106.933056,
               38.533889
            ]
         },
         "properties": {
            "Event Id": "20080129X00118",
            "Investigation Type": "Accident",
            "Accident Number": "DEN08CA045",
            "Event Date": "12/29/2007",
            "Location": "Gunnison, CO",
            "Country": "United States",
            "Latitude": "38.533889",
            "Longitude": "-106.933056",
            "Airport Code": null,
            "Airport Name": null,
            "Injury Severity": "Non-Fatal",
            "Aircraft Damage": "Substantial",
            "Aircraft Category": "Airplane",
            "Registration Number": "N33MF",
            "Make": "Piper",
            "Model": "PA-46-310P",
            "Amateur Built": "No",
            "Number of Engines": "1",
            "Engine Type": "Reciprocating",
            "FAR Description": "Part 91: General Aviation",
            "Schedule": null,
            "Purpose of Flight": "Personal",
            "Air Carrier": null,
            "Total Fatal Injuries": null,
            "Total Serious Injuries": null,
            "Total Minor Injuries": null,
            "Total Uninjured": "5",
            "Weather Condition": "VMC",
            "Broad Phase of Flight": "TAKEOFF",
            "Report Status": "Factual <br />01/29/2008<br/>Final <br />02/28/2008",
            "Publication Date": "02/28/2008",
            "": null
         }
      },
      {
         "type": "Feature",
         "geometry": {
            "type": "Point",
            "coordinates": [
               -90.438611,
               40.799722
            ]
         },
         "properties": {
            "Event Id": "20080214X00193",
            "Investigation Type": "Accident",
            "Accident Number": "CHI08CA056",
            "Event Date": "12/29/2007",
            "Location": "Abingdon, IL",
            "Country": "United States",
            "Latitude": "40.799722",
            "Longitude": "-90.438611",
            "Airport Code": null,
            "Airport Name": null,
            "Injury Severity": "Non-Fatal",
            "Aircraft Damage": "Substantial",
            "Aircraft Category": "Airplane",
            "Registration Number": "N94131",
            "Make": "Ercoupe (Eng & Research Corp.)",
            "Model": "415D",
            "Amateur Built": "No",
            "Number of Engines": "1",
            "Engine Type": "Reciprocating",
            "FAR Description": "Part 91: General Aviation",
            "Schedule": null,
            "Purpose of Flight": "Personal",
            "Air Carrier": null,
            "Total Fatal Injuries": null,
            "Total Serious Injuries": null,
            "Total Minor Injuries": null,
            "Total Uninjured": "2",
            "Weather Condition": "VMC",
            "Broad Phase of Flight": "MANEUVERING",
            "Report Status": "Factual <br />02/14/2008<br/>Final <br />02/28/2008",
            "Publication Date": "02/28/2008",
            "": null
         }
      },
      {
         "type": "Feature",
         "geometry": {
            "type": "Point",
            "coordinates": [
               -88.36,
               46.8
            ]
         },
         "properties": {
            "Event Id": "20080215X00200",
            "Investigation Type": "Accident",
            "Accident Number": "CHI08CA058",
            "Event Date": "12/29/2007",
            "Location": "Crystal Falls, MI",
            "Country": "United States",
            "Latitude": "46.800000",
            "Longitude": "-88.360000",
            "Airport Code": null,
            "Airport Name": null,
            "Injury Severity": "Non-Fatal",
            "Aircraft Damage": "Substantial",
            "Aircraft Category": "Airplane",
            "Registration Number": "N8191U",
            "Make": "Cessna",
            "Model": "172F",
            "Amateur Built": "No",
            "Number of Engines": "1",
            "Engine Type": "Reciprocating",
            "FAR Description": "Part 91: General Aviation",
            "Schedule": null,
            "Purpose of Flight": "Personal",
            "Air Carrier": null,
            "Total Fatal Injuries": null,
            "Total Serious Injuries": null,
            "Total Minor Injuries": null,
            "Total Uninjured": "1",
            "Weather Condition": "VMC",
            "Broad Phase of Flight": "LANDING",
            "Report Status": "Factual <br />02/15/2008<br/>Final <br />02/28/2008",
            "Publication Date": "02/28/2008",
            "": null
         }
      },
      {
         "type": "Feature",
         "geometry": {
            "type": "Point",
            "coordinates": [
               -89.258889,
               28.958056
            ]
         },
         "properties": {
            "Event Id": "20071231X02014",
            "Investigation Type": "Accident",
            "Accident Number": "DFW08FA053",
            "Event Date": "12/29/2007",
            "Location": "Venice, LA",
            "Country": "United States",
            "Latitude": "28.958056",
            "Longitude": "-89.258889",
            "Airport Code": null,
            "Airport Name": "South Pass 38",
            "Injury Severity": "Fatal(1)",
            "Aircraft Damage": "Destroyed",
            "Aircraft Category": "Helicopter",
            "Registration Number": "N211EL",
            "Make": "Bell",
            "Model": "206L1",
            "Amateur Built": "No",
            "Number of Engines": "1",
            "Engine Type": "Turbo Shaft",
            "FAR Description": "Part 135: Air Taxi & Commuter",
            "Schedule": "NSCH",
            "Purpose of Flight": null,
            "Air Carrier": null,
            "Total Fatal Injuries": "1",
            "Total Serious Injuries": "1",
            "Total Minor Injuries": "2",
            "Total Uninjured": null,
            "Weather Condition": "IMC",
            "Broad Phase of Flight": "APPROACH",
            "Report Status": "Factual <br />12/31/2008<br/>Final <br />07/15/2009",
            "Publication Date": "07/15/2009",
            "": null
         }
      },
      {
         "type": "Feature",
         "geometry": {
            "type": "Point",
            "coordinates": [
               144.896389,
               -37.829723
            ]
         },
         "properties": {
            "Event Id": "20080117X00071",
            "Investigation Type": "Accident",
            "Accident Number": "LAX08WA045",
            "Event Date": "12/29/2007",
            "Location": "Westgate Bridge, Australia",
            "Country": "Australia",
            "Latitude": "-37.829723",
            "Longitude": "144.896389",
            "Airport Code": null,
            "Airport Name": null,
            "Injury Severity": "Fatal(1)",
            "Aircraft Damage": "Substantial",
            "Aircraft Category": null,
            "Registration Number": null,
            "Make": "Robinson",
            "Model": "R-44",
            "Amateur Built": "No",
            "Number of Engines": null,
            "Engine Type": null,
            "FAR Description": null,
            "Schedule": null,
            "Purpose of Flight": "Instructional",
            "Air Carrier": null,
            "Total Fatal Injuries": "1",
            "Total Serious Injuries": "1",
            "Total Minor Injuries": null,
            "Total Uninjured": null,
            "Weather Condition": "VMC",
            "Broad Phase of Flight": null,
            "Report Status": "Foreign",
            "Publication Date": "01/17/2008",
            "": null
         }
      },
      {
         "type": "Feature",
         "geometry": {
            "type": "Point",
            "coordinates": [
               -95.639444,
               29.935
            ]
         },
         "properties": {
            "Event Id": "20080111X00041",
            "Investigation Type": "Accident",
            "Accident Number": "DFW08CA051",
            "Event Date": "12/28/2007",
            "Location": "Houston, TX",
            "Country": "United States",
            "Latitude": "29.935000",
            "Longitude": "-95.639444",
            "Airport Code": "EYQ",
            "Airport Name": "WEISER AIR PARK",
            "Injury Severity": "Non-Fatal",
            "Aircraft Damage": "Substantial",
            "Aircraft Category": "Airplane",
            "Registration Number": "N1458U",
            "Make": "Cessna",
            "Model": "172",
            "Amateur Built": "No",
            "Number of Engines": "1",
            "Engine Type": "Reciprocating",
            "FAR Description": "Part 91: General Aviation",
            "Schedule": null,
            "Purpose of Flight": "Personal",
            "Air Carrier": null,
            "Total Fatal Injuries": null,
            "Total Serious Injuries": null,
            "Total Minor Injuries": null,
            "Total Uninjured": "1",
            "Weather Condition": "VMC",
            "Broad Phase of Flight": "TAKEOFF",
            "Report Status": "Factual <br />01/11/2008<br/>Final <br />01/31/2008",
            "Publication Date": "01/31/2008",
            "": null
         }
      },
      {
         "type": "Feature",
         "geometry": {
            "type": "Point",
            "coordinates": [
               -117.234444,
               33.572778
            ]
         },
         "properties": {
            "Event Id": "20080102X00006",
            "Investigation Type": "Accident",
            "Accident Number": "SEA08LA054",
            "Event Date": "12/28/2007",
            "Location": "Murrieta, CA",
            "Country": "United States",
            "Latitude": "33.572778",
            "Longitude": "-117.234444",
            "Airport Code": null,
            "Airport Name": null,
            "Injury Severity": "Non-Fatal",
            "Aircraft Damage": "Substantial",
            "Aircraft Category": "Airplane",
            "Registration Number": "N365SX",
            "Make": "Hein",
            "Model": "Sonex",
            "Amateur Built": "Yes",
            "Number of Engines": "1",
            "Engine Type": "Reciprocating",
            "FAR Description": "Part 91: General Aviation",
            "Schedule": null,
            "Purpose of Flight": "Personal",
            "Air Carrier": null,
            "Total Fatal Injuries": "0",
            "Total Serious Injuries": "1",
            "Total Minor Injuries": "0",
            "Total Uninjured": "0",
            "Weather Condition": "VMC",
            "Broad Phase of Flight": "CRUISE",
            "Report Status": "Factual <br />12/17/2008<br/>Final <br />12/24/2008",
            "Publication Date": "12/24/2008",
            "": null
         }
      },
      {
         "type": "Feature",
         "geometry": {
            "type": "Point",
            "coordinates": [
               -74.06003621298285,
               40.857483
            ]
         },
         "properties": {
            "Event Id": "20080128X00107",
            "Investigation Type": "Incident",
            "Accident Number": "OPS08IA004A",
            "Event Date": "12/27/2007",
            "Location": "Teterboro, NJ",
            "Country": "United States",
            "Latitude": null,
            "Longitude": null,
            "Airport Code": null,
            "Airport Name": null,
            "Injury Severity": "Incident",
            "Aircraft Damage": null,
            "Aircraft Category": null,
            "Registration Number": null,
            "Make": "Gulfstream American",
            "Model": "G5",
            "Amateur Built": "No",
            "Number of Engines": null,
            "Engine Type": null,
            "FAR Description": null,
            "Schedule": null,
            "Purpose of Flight": "Unknown",
            "Air Carrier": null,
            "Total Fatal Injuries": null,
            "Total Serious Injuries": null,
            "Total Minor Injuries": null,
            "Total Uninjured": "2",
            "Weather Condition": "VMC",
            "Broad Phase of Flight": "TAKEOFF",
            "Report Status": "Factual <br />01/28/2008<br/>Final <br />03/31/2008",
            "Publication Date": "03/31/2008",
            "": null
         }
      },
      {
         "type": "Feature",
         "geometry": {
            "type": "Point",
            "coordinates": [
               -74.06003621298285,
               40.857483
            ]
         },
         "properties": {
            "Event Id": "20080128X00107",
            "Investigation Type": "Incident",
            "Accident Number": "OPS08IA004B",
            "Event Date": "12/27/2007",
            "Location": "Teterboro, NJ",
            "Country": "United States",
            "Latitude": null,
            "Longitude": null,
            "Airport Code": null,
            "Airport Name": null,
            "Injury Severity": "Incident",
            "Aircraft Damage": null,
            "Aircraft Category": null,
            "Registration Number": null,
            "Make": "Raytheon Corporate Jets",
            "Model": "H25B",
            "Amateur Built": "No",
            "Number of Engines": null,
            "Engine Type": null,
            "FAR Description": null,
            "Schedule": "NSCH",
            "Purpose of Flight": null,
            "Air Carrier": null,
            "Total Fatal Injuries": null,
            "Total Serious Injuries": null,
            "Total Minor Injuries": null,
            "Total Uninjured": "2",
            "Weather Condition": "VMC",
            "Broad Phase of Flight": "TAXI",
            "Report Status": "Factual <br />01/28/2008<br/>Final <br />03/31/2008",
            "Publication Date": "03/31/2008",
            "": null
         }
      },
      {
         "type": "Feature",
         "geometry": {
            "type": "Point",
            "coordinates": [
               -85.5275,
               44.737222
            ]
         },
         "properties": {
            "Event Id": "20080108X00030",
            "Investigation Type": "Accident",
            "Accident Number": "CHI08FA055",
            "Event Date": "12/27/2007",
            "Location": "Traverse City, MI",
            "Country": "United States",
            "Latitude": "44.737222",
            "Longitude": "-85.527500",
            "Airport Code": "TVC",
            "Airport Name": "Cherry Capital Airport",
            "Injury Severity": "Fatal(1)",
            "Aircraft Damage": "Destroyed",
            "Aircraft Category": "Airplane",
            "Registration Number": "N37249",
            "Make": "CESSNA",
            "Model": "310R",
            "Amateur Built": "No",
            "Number of Engines": "2",
            "Engine Type": "Reciprocating",
            "FAR Description": "Part 91: General Aviation",
            "Schedule": null,
            "Purpose of Flight": "Personal",
            "Air Carrier": null,
            "Total Fatal Injuries": "1",
            "Total Serious Injuries": "1",
            "Total Minor Injuries": null,
            "Total Uninjured": null,
            "Weather Condition": "IMC",
            "Broad Phase of Flight": "APPROACH",
            "Report Status": "Factual <br />12/31/2008<br/>Final <br />08/05/2011",
            "Publication Date": "08/05/2011",
            "": null
         }
      },
      {
         "type": "Feature",
         "geometry": {
            "type": "Point",
            "coordinates": [
               -82.552778,
               27.390555
            ]
         },
         "properties": {
            "Event Id": "20080104X00022",
            "Investigation Type": "Accident",
            "Accident Number": "MIA08LA032",
            "Event Date": "12/26/2007",
            "Location": "Sarasota, FL",
            "Country": "United States",
            "Latitude": "27.390555",
            "Longitude": "-82.552778",
            "Airport Code": "SRQ",
            "Airport Name": "Sarasota/Bradenton Intl",
            "Injury Severity": "Non-Fatal",
            "Aircraft Damage": "Substantial",
            "Aircraft Category": "Airplane",
            "Registration Number": "N5875Q",
            "Make": "Mooney",
            "Model": "M20E",
            "Amateur Built": "No",
            "Number of Engines": "1",
            "Engine Type": "Reciprocating",
            "FAR Description": "Part 91: General Aviation",
            "Schedule": null,
            "Purpose of Flight": "Personal",
            "Air Carrier": null,
            "Total Fatal Injuries": "0",
            "Total Serious Injuries": "0",
            "Total Minor Injuries": "2",
            "Total Uninjured": "0",
            "Weather Condition": "VMC",
            "Broad Phase of Flight": "TAKEOFF",
            "Report Status": "Factual <br />01/01/2009<br/>Final <br />01/14/2009",
            "Publication Date": "01/14/2009",
            "": null
         }
      },
      {
         "type": "Feature",
         "geometry": {
            "type": "Point",
            "coordinates": [
               -106.868056,
               39.203889
            ]
         },
         "properties": {
            "Event Id": "20071231X02008",
            "Investigation Type": "Incident",
            "Accident Number": "DEN08IA044",
            "Event Date": "12/26/2007",
            "Location": "Aspen, CO",
            "Country": "United States",
            "Latitude": "39.203889",
            "Longitude": "-106.868056",
            "Airport Code": "ASE",
            "Airport Name": "Aspen/Pitkin County",
            "Injury Severity": "Incident",
            "Aircraft Damage": "Minor",
            "Aircraft Category": "Airplane",
            "Registration Number": "N47BC",
            "Make": "PIPER",
            "Model": "PA-46-310P",
            "Amateur Built": "No",
            "Number of Engines": "1",
            "Engine Type": "Reciprocating",
            "FAR Description": "Part 91: General Aviation",
            "Schedule": null,
            "Purpose of Flight": "Personal",
            "Air Carrier": null,
            "Total Fatal Injuries": "0",
            "Total Serious Injuries": "0",
            "Total Minor Injuries": "0",
            "Total Uninjured": "4",
            "Weather Condition": "VMC",
            "Broad Phase of Flight": "CLIMB",
            "Report Status": "Factual <br />10/07/2008<br/>Final <br />12/24/2008",
            "Publication Date": "12/24/2008",
            "": null
         }
      },
      {
         "type": "Feature",
         "geometry": {
            "type": "Point",
            "coordinates": [
               -75.019167,
               40.5875
            ]
         },
         "properties": {
            "Event Id": "20080210X00163",
            "Investigation Type": "Accident",
            "Accident Number": "NYC08LA070",
            "Event Date": "12/26/2007",
            "Location": "Pittstown, NJ",
            "Country": "United States",
            "Latitude": "40.587500",
            "Longitude": "-75.019167",
            "Airport Code": "N85",
            "Airport Name": "Alexandria Airport",
            "Injury Severity": "Non-Fatal",
            "Aircraft Damage": "Substantial",
            "Aircraft Category": "Airplane",
            "Registration Number": "N9412X",
            "Make": "CESSNA",
            "Model": "182R",
            "Amateur Built": "No",
            "Number of Engines": "1",
            "Engine Type": "Reciprocating",
            "FAR Description": "Part 91: General Aviation",
            "Schedule": "NSCH",
            "Purpose of Flight": "Personal",
            "Air Carrier": null,
            "Total Fatal Injuries": "0",
            "Total Serious Injuries": "0",
            "Total Minor Injuries": "0",
            "Total Uninjured": "1",
            "Weather Condition": "VMC",
            "Broad Phase of Flight": "TAKEOFF",
            "Report Status": "Factual <br />01/17/2009<br/>Final <br />02/25/2009",
            "Publication Date": "02/25/2009",
            "": null
         }
      },
      {
         "type": "Feature",
         "geometry": {
            "type": "Point",
            "coordinates": [
               -66.771667,
               10.121667
            ]
         },
         "properties": {
            "Event Id": "20080229X00252",
            "Investigation Type": "Accident",
            "Accident Number": "MIA08WA058",
            "Event Date": "12/26/2007",
            "Location": "Ocumare del Tuy, Venezuela",
            "Country": "Venezuela",
            "Latitude": "10.121667",
            "Longitude": "-66.771667",
            "Airport Code": null,
            "Airport Name": null,
            "Injury Severity": "Non-Fatal",
            "Aircraft Damage": "Substantial",
            "Aircraft Category": null,
            "Registration Number": "N761YL",
            "Make": "Cessna",
            "Model": "T210L",
            "Amateur Built": "No",
            "Number of Engines": null,
            "Engine Type": null,
            "FAR Description": null,
            "Schedule": null,
            "Purpose of Flight": "Personal",
            "Air Carrier": null,
            "Total Fatal Injuries": null,
            "Total Serious Injuries": null,
            "Total Minor Injuries": "1",
            "Total Uninjured": null,
            "Weather Condition": "VMC",
            "Broad Phase of Flight": null,
            "Report Status": "Foreign",
            "Publication Date": "02/29/2008",
            "": null
         }
      },
      {
         "type": "Feature",
         "geometry": {
            "type": "Point",
            "coordinates": [
               -117.979723,
               33.871945
            ]
         },
         "properties": {
            "Event Id": "20080117X00072",
            "Investigation Type": "Accident",
            "Accident Number": "SEA08CA052",
            "Event Date": "12/26/2007",
            "Location": "Fullerton, CA",
            "Country": "United States",
            "Latitude": "33.871945",
            "Longitude": "-117.979723",
            "Airport Code": "FUL",
            "Airport Name": "Fullerton Municipal",
            "Injury Severity": "Non-Fatal",
            "Aircraft Damage": "Substantial",
            "Aircraft Category": "Airplane",
            "Registration Number": "N13974",
            "Make": "Cessna",
            "Model": "172S",
            "Amateur Built": "No",
            "Number of Engines": "1",
            "Engine Type": "Reciprocating",
            "FAR Description": "Part 91: General Aviation",
            "Schedule": null,
            "Purpose of Flight": "Instructional",
            "Air Carrier": null,
            "Total Fatal Injuries": null,
            "Total Serious Injuries": null,
            "Total Minor Injuries": null,
            "Total Uninjured": "1",
            "Weather Condition": "VMC",
            "Broad Phase of Flight": "TAXI",
            "Report Status": "Factual <br />01/17/2008<br/>Final <br />02/28/2008",
            "Publication Date": "02/28/2008",
            "": null
         }
      }
    ]
            }
        });
        // Add a layer showing the places.
        map.addLayer({
            'id': 'places',
            'type': 'circle',
            'source': 'places',
            'paint': {
                'circle-color': '#4264fb',
                'circle-radius': 6,
                'circle-stroke-width': 2,
                'circle-stroke-color': '#ffffff'
            }
        });

        // Create a popup, but don't add it to the map yet.
        const popup = new mapboxgl.Popup({
            closeButton: false,
            closeOnClick: false
        });

        map.on('mouseenter', 'places', (e) => {
            // Change the cursor style as a UI indicator.
            map.getCanvas().style.cursor = 'pointer';

            // Copy coordinates array.
            const coordinates = e.features[0].geometry.coordinates.slice();
            const description = "<p>Make: " + e.features[0].properties.Make + "</p><p>Model: " + e.features[0].properties.Model+"</p>";

            // Ensure that if the map is zoomed out such that multiple
            // copies of the feature are visible, the popup appears
            // over the copy being pointed to.
            while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
                coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
            }

            // Populate the popup and set its coordinates
            // based on the feature found.
            popup.setLngLat(coordinates).setHTML(description).addTo(map);
        });

        map.on('mouseleave', 'places', () => {
            map.getCanvas().style.cursor = '';
            popup.remove();
        });

    });
</script>

</body>
</html>